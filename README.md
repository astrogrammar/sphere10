# Sphere10 立体天球ホロスコープ v2.1

**LST（地方恒星時）による天球回転機能を追加**

## 概要

Sphere10は、3Dの立体天球ホロスコープを表示するWebアプリケーションです。このバージョンでは、LST（地方恒星時）に基づく天球の自動回転機能が追加され、天文学的な正確性が大幅に向上しました。

## 🚀 v2.1 最新アップグレード内容

### 🌌 LST（地方恒星時）による天球回転（2025/12/15 新規実装）
- **天文学的な正確性**: `Astronomy.SiderealTime()` を使用してGAST（グリニッジ視恒星時）を計算し、観測地の経度を加えてLSTを算出
- **天球の自動回転**: LSTに基づいて天球全体を自動的に回転させ、時刻と天体の位置を正確に同期
- **太陽の南中**: 東京（経度139.65°）で、太陽が11:46 JSTに子午線上を通過（南中）することを再現
- **恒星時の速度**: 天球が1時間で約15度回転する、地球の自転に基づいた正確な速度を実装

### 🛠️ 技術的改良点
- **単位の統一**: `Astronomy.SiderealTime()` の返り値（恒星時）を正しく度（degrees）に変換して計算
- **コードのクリーンアップ**: デバッグ用のconsole.logを削除し、コードの可読性を向上

## ✨ v2.0 既存機能

### 📅 日付送り機能
- **手動/自動の日付送り**: 1日単位での過去/未来への移動、および自動送り機能
- **UIデザイン**: 音楽プレーヤーのような直感的なUI
- **ホロスコープチャート同期**: 日付変更時にホロスコープチャートも自動更新

### 📱 完全タッチデバイス対応
- **タッチイベント統合**: 全トグルボタンに `touchstart` と `click` イベントを両対応
- **視覚フィードバック強化**: タッチ時に控えめなフィードバック

### 🌐 天文座標系機能拡張
- **赤緯グリッド追加**: -80° ～ +80° の10度間隔で赤緯線を表示

## 🚀 現在実装済みの機能

### コントロールパネル機能
- **ドラッグ移動**: コントロールパネルの自由な移動
- **パネル表示/非表示切り替え**: セクションごとの折りたたみ機能
- **回転制御**: 水平・南北の回転スライダー
- **位置設定**: 緯度の直接入力による観測地点の設定
- **表示オプション**: 各種天体要素の表示切り替え

### 日付操作機能
- **日付入力**: 任意の日時設定
- **手動/自動の日付送り**: 1日単位での移動
- **リセット**: 現在時刻に戻る

### 天体表示機能
- **LSTによる天球回転**: 時刻と同期した天球の自動回転
- **恒星表示**: 固定星の表示/非表示
- **惑星位置**: 惑星の位置計算と表示
- **惑星ラベル**: 惑星名表示の切り替え

## 🛠️ 技術仕様

### 使用技術
- **HTML5**: セマンティックな構造
- **CSS3**: モダンなスタイリング
- **JavaScript (ES6+)**: インタラクティブ機能
- **Astronomy Engine**: 天体位置計算
- **Canvas 2D API**: 天球の描画

### ファイル構成
```
├── index.html
├── css/
│   ├── ui.css
│   └── chart.css
├── scripts/
│   ├── sphere10.js
│   ├── chart.js
│   └── astronomy.browser.min.js
├── data/
│   ├── bsc5.csv
│   └── location.json
└── favicon_io/
    └── favicon.ico
```

## 🔧 セットアップ手順

1. **Webサーバーでの実行**: ローカルサーバーまたはWebサーバーで`index.html`を開く
2. **推奨環境**: モダンブラウザ（Chrome, Firefox, Safari, Edge）

## 🌟 今後の拡張可能性

- **UIの統合**: 日時設定とPLAY動作UIの統合
- **タイムゾーン対応**: 観測地のタイムゾーン設定機能
- **日付ステップのカスタマイズ**: 1時間、1週間、1ヶ月単位での送り

---

**バージョン**: v2.1 LST Rotation Implemented
**最終更新**: 2025-12-15
**ライセンス**: オリジナルライセンスに準拠
